<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="Juan Francisco Saldarraiga is a researcher at the Center for Spatial Research, at Columbia University. His research happens at the intersection of data, GIS, urbanism, architecture and the humanities.">
  <meta name="keywords" content="data visualization, mapping, GIS, data analysis, interactive, information, design, visualization, data mining, information design, information visualization, urban planning, architecture, humanities, center for spatial research, columbia university, gsapp, graduate school or architecture planning and preservation, humanities, new york"
  <meta name="author" content="Juan Francisco Saldarriaga">
  <title>Juanfrans</title>

  <!-- Bootstrap -->
  <link href="../css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="../css/site-specific.css" rel="stylesheet" media="screen">

  <!-- Loading fonts from Adobe Typekit -->
  <script src="//use.typekit.net/uzk7kzt.js"></script>
  <script>try{Typekit.load();}catch(e){}</script>
  <!-- Google Analytics tracking code -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27897156-5', 'auto');
  ga('send', 'pageview');

</script>
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
</head>
  <body>

      <!-- *********** NAVBAR ************ -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="../index.html">JUAN FRANCISCO SALDARRIAGA</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
              <ul class="nav navbar-nav navbar-right">
                <li><a href="../index.html">HOME</a></li>
                <li><a href="../projects.html">PROJECTS</a></li>
                <li><a href="../about.html">ABOUT</a></li>
              </ul>
            </div><!-- /.navbar-collapse -->
          </div><!-- /.container-fluid -->
        </div>
      </nav>

      <!-- *********** REST ************* -->
      <div class="container">
        <img class="img-responsive" src="../assets/img/Citibike_Line_Graph.png">
      </div>
      <div class="container">
        <div class="project-title">
          <p>CITIBIKE REBALANCING STUDY</p>
        </div>
        <div class="project-subtitle">
          <p>This project was developed at the <a href="http://spatialinformationdesignlab.org/">Spatial Information Design Lab</a> at Columbia University.</p>
        </div>
        <div class="project-description">
          <p>As has been documented by the press, one of the major challenges that Citibike is facing is the rebalancing of their stations. As origins and destinations of Citibike trips are not necessarily symmetrical during the day, Citibike has been forced to constantly move bikes around the city, taking them from full stations and delivering them to empty ones. This problem is both financially expensive and frustrating for Citibike users: many people complain about either not finding bikes at their stations of origin or not finding empty spots when they arrive at their final destinations.<br><br>To study this problem we have created a series of visualizations which should serve as a starting point for further analysis.<br><br>First, we visualized the average activity for weekdays in October 2013. As the two animations below shows, the activity hotspots remain pretty constant throughout the day, specially between 10am and midnight, with most of the activity centered around Union Square. In addition, we also see how both Grand Central and Penn Station become strong hotspots during peak hours. Of interest, though, is the sudden shift that occurs around 5am, with the activity hotspots switching from the East Village/Lower East Side area, to Grand Central and Penn Station. This is probably due to the fact that during most of the night, compared to other areas, the stations in the East Village/Lower East Side continue to have high activity, but during most of the day, and specially during peak hours, they are not as active as the stations around Union Square or Grand Central and Penn Station.<br><br>The two animations show the same data at different speeds.</p>
          <div class="row">
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hourly_Activity_01.gif">
            </div>
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hourly_Activity_02.gif">
            </div>
          </div>
          <p>Next, we visualized overall patterns of origins and destinations. As the image below shows, the big hotspots of imbalance are mostly located around the East Village, Lower East Side, Midtown East and West and Union Square. However, the variation of these hotspots throughout the day is pretty extensive and it's very difficult to detect smooth transitions apart from peak hours. Of note are a couple of big "jumps" between origins and destinations, one of them around 1-2pm on the East Village/Lower East Side and another one around 5am also in the same area.<br><br>The two animations show the same data at different speeds.</p>
          <div class="row">
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hour_by_Hour_01.gif">
            </div>
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hour_by_Hour_02.gif">
            </div>
          </div>
          <p>We also created a series of imbalance matrices (by hour of day) for every single station on the system. Again, using the same data as the animations above, this first matrix clearly shows how the big imbalances happen (as expected) mainly between 6am and 10am (morning peak hour) and between 4pm and 8pm (evening peak hour). However, there are some stations whose imbalance starts and ends earlier, like 8th Ave. & 31st Street, W 33rd Street & 7th Ave. and W 41st Street & 8th Ave. (more origins than destinations starting around 2pm). In addition, this matrix also shows that not all of the stations suffer from big imbalances during peak hours. Indeed, stations like E 31st Street & 3rd Ave or E 32nd Street & Park Ave. barely have any imbalances during peak hours. You can download a high-res version of this matrix <a href="https://dl.dropboxusercontent.com/u/7595728/Imbalance_Matrix_SIDL.pdf">here</a>.</p>
          <div class="row">
            <div class="col-md-12">
              <img class="img-responsive losO" src="../assets/img/Citibike_Rebalancing_Columns.jpg">
            </div>
          </div>
          <p>The graph below is another way of looking at the same data: each dial represents one station and shows both the activity and the level of imbalance per hour for an average day in October. The activity is represented by the length of each bar showing the percentage of the total daily activity for every hour; and the direction and level of imbalance are represented by the color of the bar and the intensity of the hue. You can download the hi-res version of this graph <a href="https://dl.dropboxusercontent.com/u/7595728/Rebalance_SIDL_Site/Station_Dials.pdf">here</a>.</p>
          <div class="row">
            <div class="col-md-12">
              <img class="img-responsive losO" src="../assets/img/Citibike_Rebalancing_Dials.png">
            </div>
          </div>
          <p>Furthermore, as not all of the stations have the same level of activity, we produced two more matrices, both showing station imbalance, but this time comparing it to the overall hourly activity for each station. The first one shows the imbalance as a percentage of the activity for that hour. Hence, the great imbalances appearing late at night, when there are fewer trips and there's a higher chance of having all of them as origins or destinations. However, it is still interesting to see that there are higher imbalances during the morning peak hour than during the evening one, as a percentage of the overall activity.<br><br>And the second matrix shows the imbalance as colors and the overall activity as brightness, so we can see how in the hours between the peak times there's still a lot of activity but it is mostly well balanced. In addition, we can see how late at night (imbalanced as it may be) there's still very little activity. Finally, we can also see some outlier stations with a lot of activity and still pretty imbalanced: for example, in the morning 8th avenue and 31st street, 17th street and Broadway, Lafayette and 8th street, and Pershing Square (north); and in the evening 8th avenue and 31st street, 41st street and 8th avenue and again Pershing Square (north). You can download both of these matrices at high-res <a href="https://dl.dropboxusercontent.com/u/7595728/Activity_Matrix_Normalized.pdf">here</a> and <a href="https://dl.dropboxusercontent.com/u/7595728/Activity_Matrix_Composite.pdf">here</a>.</p>
          <div class="row">
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Rebalancing_Columns_02.png">
            </div>
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Rebalancing_Columns_03.png">
            </div>
          </div>
          <p>Finally, we have created hotspot maps for both the AM and the PM peak hours. As you can see from the maps below, Citibike activity closely matches what we would expect to see in New York: the AM peak hour map shows people leaving residential neighborhoods (Lower East Side, East Village, Chelsea and Hells Kitchen) and arriving at Midtown East and the Financial District, and the PM peak hour map shows the reverse. To note, however, is the fact that these two maps are not completely symmetrical, meaning that there are certain trips that happen in the morning which do not have their counterpart in the evening, and vice versa. Also, there are some stations that while being inside imbalance hotspots do not show that large of an imbalance. These stations have been outlined on the maps and should be further studied. You can view high-res versions of these maps here: <a href="https://dl.dropboxusercontent.com/u/7595728/October_Peak_Hour_Weekday_AM.pdf">AM</a> and <a href="https://dl.dropboxusercontent.com/u/7595728/October_Peak_Hour_Weekday_PM.pdf">PM</a>.</p>
          <div class="row">
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hotspot_AM.png">
            </div>
            <div class="col-md-6">
              <img class="img-responsive losO" src="../assets/img/Citibike_Hotspot_PM.png">
            </div>
          </div>
          <p>Further analysis:<br><br>All the visualizations above were created using the "trip" data, available <a href="http://www.citibikenyc.com/system-data">here</a>, which contains every single CitiBike trip. However, CitiBike also releases "<a href="http://www.citibikenyc.com/stations/json">station</a>" data, in json format, which is updated every two minutes and contains information on how many bikes area available at each station and how many empty docks there are. With this dataset we created the next series of graphs, in an effort to visualize how full or empty a station was during the first week of May 2014.<br><br>In these series the blue and orange colors indicate that the stations are either more than 80% full or less than 20% full. In this first graph, one can also see the peak hours during the weekdays - represented by a greater density of lines - and the absence of those during Saturday and Sunday. In general though, these graphs show the magnitude of the problem with most stations being either almost empty or full - mostly empty - most of the time.</p>
          <div class="row">
            <div class="col-md-12">
              <img class="img-responsive losO" src="../assets/img/Citibike_Line_Graph.png">
            </div>
          </div>
          <p>Finally, this last graph also uses the "station" data. However, here every row represents a station and every column its status for those two minutes. As in the images before, one can see that most of the time, the majority of stations are either less than 20% empty or more than 80% full, with an emphasis on emptiness. It is also possible to see the peak hours and the difference between weekdays and the weekend.</p>
          <div class="row">
            <div class="col-md-12">
              <img class="img-responsive losO" src="../assets/img/Citibike_DNA_Graph.png">
            </div>
          </div>
        </div>
      </div>

      <footer class="bs-docs-footer">
        <div class="container">
          <div class="row">
            <div class="col-md-4">
              <p class="footer-subtitle">JUAN FRANCISCO SALDARRIAGA</p>
              <p class="footer-item">3495 Broadway</p>
              <p class="footer-item">New York, NY 10031</p>
              <p class="footer-item">United States</p>
            </div>
            <div class="col-md-4">
              <p class="footer-subtitle">CONTACT</p>
              <p class="footer-item"><a href="mailto:juanfrans@gmail.com">Email</a></p>
              <p class="footer-item"><a href="https://github.com/juanfrans">Github</a></p>
              <p class="footer-item"><a href="https://twitter.com/juanfrans">Twitter</a></p>
            </div>
          </div>
        </div>
      </footer>
      


      <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
      <!-- Include all compiled plugins (below), or include individual files as needed -->
      <script src="../js/bootstrap.min.js"></script>
    </body>
    </html>